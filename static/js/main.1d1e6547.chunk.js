(this["webpackJsonpmy-usa-gymnast"]=this["webpackJsonpmy-usa-gymnast"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('[{"name":"Logan Brix","id":1913246},{"name":"Gordy Jacques","id":1271797},{"name":"Caleb Skramsted","id":1400313},{"name":"Chase Penny","id":1200719},{"name":"Adrian Ramos","id":1403712},{"name":"Elijah Ramos","id":1405166},{"name":"Cole Quinlan","id":1571232},{"name":"Romello Bell","id":1913253},{"name":"Corbin Meunier","id":1913332},{"name":"Michael Boehmer","id":1918513}]')},31:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),r=n(18),i=n.n(r),o=n(5),l=n(4),d={Women:{aa:{shortName:"AA",name:"AA",longName:"All Around"},1:{shortName:"VT",name:"Vault",longName:"Vault"},2:{shortName:"UB",name:"Bars",longName:"Bars"},3:{shortName:"BB",name:"Beam",longName:"Beam"},4:{shortName:"FX",name:"Floor",longName:"Floor"}},Men:{aa:{shortName:"AA",name:"AA",longName:"All Around"},1:{shortName:"FX",name:"Floor",longName:"Floor"},2:{shortName:"PH",name:"Pommel",longName:"Pommel"},3:{shortName:"SR",name:"Rings",longName:"Rings"},4:{shortName:"VT",name:"Vault",longName:"Vault"},5:{shortName:"PB",name:"P Bars",longName:"P Bars"},6:{shortName:"HB",name:"H Bar",longName:"H Bar"}}},m=null!==new URLSearchParams(window.location.search).get("detail");function j(e){var t=e.match(/(\d\d):(\d\d)(?::\d\d)?/);return t?"".concat(t[1].replace(/^0/,""),":").concat(t[2]):e}function u(e){return e.match(/(\d\d\d\d)-(\d\d)-(\d\d)/)?h(e).toLocaleDateString():e}function h(e){var t=new Date(e);return t.setHours(t.getUTCHours()),t.setDate(t.getDate()+1),t}function b(e){var t=e.person,n=e.id,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],b=r[1],f=Object(o.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/sanctions/".concat(n),{headers:{accept:"application/json"}},{defer:!0}),O=f.data,x=f.error,N=f.isPending,p=f.run,v=t.sanctions[n];if(Object(a.useEffect)((function(){(function(e,t){var n=h(e);if(n.setDate(n.getDate()-2),n.getTime()<Date.now()){var s=new Date(t);return s.setDate(s.getDate()+2),s.getTime()>Date.now()}return!1})(v.startDate,v.endDate)&&(b(!0),p())}),[b,p,v]),!i)return Object(s.jsx)("li",{className:"sanction sanction-button",children:Object(s.jsxs)("button",{onClick:function(){b(!0),p()},children:["Load ",v.name," ",u(v.startDate),"-",u(v.endDate)]})});if(N&&!O)return Object(s.jsx)("li",{className:"sanction",children:Object(s.jsxs)("h3",{children:["Loading ",v.name,"..."]})});if(x)return Object(s.jsxs)("li",{className:"sanction error",children:[Object(s.jsx)("h3",{children:x.message}),Object(s.jsx)("button",{onClick:p,children:"Refresh"})]});if(!O)return Object(s.jsxs)("li",{className:"sanction error",children:[Object(s.jsxs)("h3",{children:["No data for ",v.name]}),Object(s.jsx)("button",{onClick:p,children:"Refresh"})]});var g=t.sanctionPeople.find((function(e){return e.sanctionId===n}));if(!g)return Object(s.jsx)("li",{className:"sanction error",children:"Cannot find sanctionPeople"});var I=Object.values(O.sanctionPeople).filter((function(e){return e.sessionId===g.sessionId&&e.level===g.level&&e.division===g.division})).length,y=O.sessions.find((function(e){return e.sessionId===g.sessionId}));if(!y)return Object(s.jsxs)("li",{className:"sanction error",children:["Cannot find session",Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:p,children:"Refresh"})]});for(var S=O.sessionResultSets.find((function(e){return e.sessionId===g.sessionId&&e.level===g.level&&e.division===g.division})),w="squad".concat(g.squad),C=y[w]||"",D=Array.from(C).reduce((function(e,t,n){return e[t]=n+1,e}),{}),A=t.scores.filter((function(e){return e.sanctionId===n&&e.resultSetId===(null===S||void 0===S?void 0:S.resultSetId)})),k=function(){var e=P[B];A.some((function(t){return t.eventId===e}))||A.push({eventId:e,program:y.program})},B=0,P=Array.from(C);B<P.length;B++)k();A.sort((function(e,t){return e.resultSetId&&t.resultSetId?e.resultSetId-t.resultSetId:e.eventId in D&&t.eventId in D?D[e.eventId]-D[t.eventId]:e.eventId in D?-1:t.eventId in D?1:0}));var L,R=m&&A.some((function(e){return e.difficulty})),F=m&&A.some((function(e){return e.execution})),E=m&&A.some((function(e){return e.deductions})),H=A.some((function(e){return e.finalScore})),U=A.some((function(e){return e.place}));return Object(s.jsxs)("li",{className:"sanction",children:[Object(s.jsx)("h3",{className:"sanctionName",children:Object(s.jsx)("a",{href:"https://myusagym.com/meets/live/".concat(n,"/"),children:v.name})}),Object(s.jsxs)("h5",{className:"site",children:[Object(s.jsx)("a",{className:"siteName",href:v.siteLink,children:v.siteName}),Object(s.jsx)("br",{}),Object(s.jsxs)("a",{className:"siteAddress",href:"https://maps.google.com?q=".concat(encodeURIComponent("".concat(v.address1,", ").concat(v.city,", ").concat(v.state," ").concat(v.zip))),children:[v.address1,", ",v.city,", ",v.state," ",v.zip]})]}),Object(s.jsxs)("h3",{className:"level",children:["Level ",g.level,Object(s.jsx)("br",{}),g.division]}),Object(s.jsxs)("div",{className:"date",children:[(L=y.date,L.match(/(\d\d\d\d)-(\d\d)-(\d\d)/)?h(L).toDateString():L),Object(s.jsx)("br",{}),j(y.time1)," ",v.time1,Object(s.jsx)("br",{}),j(y.time2)," ",v.time2,Object(s.jsx)("br",{}),j(y.time3)," ",v.time3,Object(s.jsx)("br",{}),j(y.time4)," ",v.time4]}),Object(s.jsx)("br",{}),S?Object(s.jsx)("a",{className:"startList",href:"https://myusagym.com/meets/live/".concat(n,"/results/").concat(S.resultSetId,"/"),children:"All Scores"}):null,Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"scores",children:Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:Object(s.jsx)("button",{onClick:p,className:"refresh",disabled:N,children:N?"...":"Refresh"})}),R?Object(s.jsx)("th",{children:"Difficulty"}):null,F?Object(s.jsx)("th",{children:"Execution"}):null,E?Object(s.jsx)("th",{children:"Deduction"}):null,H?Object(s.jsx)("th",{children:m?"Final":"Score"}):null,U?Object(s.jsx)("th",{children:"Place"}):null]})}),Object(s.jsx)("tbody",{children:A.map((function(e){var t,n,a=null===(t=d[e.program])||void 0===t||null===(n=t[e.eventId])||void 0===n?void 0:n.longName;return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("th",{className:"event",children:[e.eventId in D?"".concat(D[e.eventId],". "):"",a||"Unknown Event ".concat(e.eventId)]}),R?Object(s.jsx)("td",{className:"difficulty",children:e.difficulty||""}):null,F?Object(s.jsx)("td",{className:"execution",children:e.execution||""}):null,E?Object(s.jsx)("td",{className:"deductions",children:e.deductions||""}):null,H?Object(s.jsx)("td",{className:"finalScore",children:e.finalScore||""}):null,U?Object(s.jsx)("td",{className:"place",children:e.place?"".concat(e.place," of ").concat(I):""}):null]},"".concat(e.eventId," ").concat(e.resultSetId))}))})]})})]})}function f(e){var t=e.id,n=Object(o.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/people/".concat(t),{headers:{accept:"application/json"}}),a=n.data,c=n.error;return n.isPending?Object(s.jsx)("div",{className:"person",children:"Loading..."}):c?Object(s.jsx)("div",{className:"person error",children:c.message}):a?Object(s.jsxs)("div",{className:"person",children:[Object(s.jsxs)("h1",{className:"name",children:[a.person.firstName," ",a.person.lastName]}),Object(s.jsx)("h2",{className:"club",children:a.club.name}),Object(s.jsx)("ul",{className:"sanctions",children:Object.keys(a.sanctions).sort((function(e,t){var n=a.sanctions[e].startDate;return a.sanctions[t].startDate.localeCompare(n)})).map((function(e){return Object(s.jsx)(b,{person:a,id:+e},e)}))})]}):Object(s.jsx)("div",{className:"person error",children:"No data for this person."})}var O=n(7),x=n(20);function N(e){var t,n=e.search,c=e.name,r=Object(a.useState)(),i=Object(l.a)(r,2),d=i[0],m=i[1],j=Object(a.useState)([]),u=Object(l.a)(j,2),h=u[0],b=u[1],f=Object(o.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/sanctions/".concat(n),{headers:{accept:"application/json"}},{defer:!0}),N=f.data,p=f.error,v=f.isPending,g=f.run;if(Object(a.useEffect)((function(){n?g():m(x)}),[g,m,n]),v)return Object(s.jsx)("div",{children:"Loading..."});if(p)return Object(s.jsx)("div",{className:"error",children:p.message});if(!d&&!N)return Object(s.jsx)("div",{className:"error",children:"No data"});if(!d&&N){var I=(c||"").toLowerCase().split(" ");m(Object.values(N.people).filter((function(e){return I.length>1?e.firstName.toLowerCase().startsWith(I[0])&&e.lastName.toLowerCase().startsWith(I[1]):e.firstName.toLowerCase().startsWith(I[0])||e.lastName.toLowerCase().startsWith(I[0])})).map((function(e){return{id:e.personId,name:"".concat(e.firstName," ").concat(e.lastName)}})))}return Object(s.jsxs)("div",{className:"names",children:[Object(s.jsx)("h2",{children:"Pick an Athlete:"}),Object(s.jsx)("ul",{children:d?d.map((function(e){return Object(s.jsx)("li",{className:"names-checkbox",children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:(t=e.id,function(e){var n=e.target;n&&(n.checked?b(Object(O.a)(new Set([].concat(Object(O.a)(h),[t])))):b(h.filter((function(e){return e!==t}))))})}),e.name]})},e.name);var t})):null}),Object(s.jsx)("button",{onClick:(t=h,function(){window.location.href="?id=".concat(t.join(","))}),children:"Go"})]})}function p(){var e=new URLSearchParams(window.location.search),t=e.get("id");if(t){var n=t.split(",");if(n.length>0)return Object(s.jsx)("div",{className:"persons",children:n.map((function(e){return Object(s.jsx)(f,{id:e},e)}))})}var a=e.get("s"),c=null,r=null;if(a){var i=a.split(" ");c=i.shift(),r=i.join(" ")}return Object(s.jsx)(N,{search:c,name:r})}i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.1d1e6547.chunk.js.map