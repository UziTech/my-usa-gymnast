{"version":3,"sources":["Sanction.tsx","Person.tsx","Search.tsx","App.tsx","index.tsx"],"names":["eventsByProgram","Women","aa","shortName","name","longName","1","2","3","4","Men","5","6","SHOW_DETAILED_SCORES","URLSearchParams","window","location","search","get","toTime","time","match","replace","toShortDate","date","toLocalDate","toLocaleDateString","datetime","Date","setHours","getUTCHours","setDate","getDate","Sanction","person","id","useState","loaded","setLoaded","useFetch","headers","accept","defer","data","error","isPending","run","sanction","sanctions","useEffect","startDate","endDate","startDay","getTime","now","endDay","isToday","className","onClick","message","sanctionPeople","find","s","sanctionId","totalSessionPeople","Object","values","filter","sessionId","level","division","length","session","sessions","sessionResultSet","sessionResultSets","squad","squadOrder","order","Array","from","reduce","o","e","i","scores","resultSetId","event","some","eventId","push","program","sort","a","b","showDifficulty","difficulty","showExecution","execution","showDeductions","deductions","showFinalScore","finalScore","showPlace","place","href","siteLink","siteName","encodeURIComponent","address1","city","state","zip","toDateString","time1","time2","time3","time4","disabled","map","score","Person","firstName","lastName","club","keys","aDate","localeCompare","Search","ids","people","setPeople","checked","setChecked","names","terms","toLowerCase","split","p","startsWith","personId","type","includes","onChange","target","Set","c","join","App","query","shift","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0lBASMA,EAAuC,CAC5CC,MAAO,CACNC,GAAI,CAACC,UAAW,KAAMC,KAAM,KAAMC,SAAU,cAC5CC,EAAG,CAACH,UAAW,KAAMC,KAAM,QAASC,SAAU,SAC9CE,EAAG,CAACJ,UAAW,KAAMC,KAAM,OAAQC,SAAU,QAC7CG,EAAG,CAACL,UAAW,KAAMC,KAAM,OAAQC,SAAU,QAC7CI,EAAG,CAACN,UAAW,KAAMC,KAAM,QAASC,SAAU,UAE/CK,IAAK,CACJR,GAAI,CAACC,UAAW,KAAMC,KAAM,KAAMC,SAAU,cAC5CC,EAAG,CAACH,UAAW,KAAMC,KAAM,QAASC,SAAU,SAC9CE,EAAG,CAACJ,UAAW,KAAMC,KAAM,SAAUC,SAAU,UAC/CG,EAAG,CAACL,UAAW,KAAMC,KAAM,QAASC,SAAU,SAC9CI,EAAG,CAACN,UAAW,KAAMC,KAAM,QAASC,SAAU,SAC9CM,EAAG,CAACR,UAAW,KAAMC,KAAM,SAAUC,SAAU,UAC/CO,EAAG,CAACT,UAAW,KAAMC,KAAM,QAASC,SAAU,WAK1CQ,EAA+C,OADvC,IAAIC,gBAAgBC,OAAOC,SAASC,QACfC,IAAI,UAEvC,SAASC,EAAOC,GACf,IAAMC,EAAQD,EAAKC,MAAM,2BACzB,OAAKA,EAIC,GAAN,OAAUA,EAAM,GAAGC,QAAQ,KAAM,IAAjC,YAAwCD,EAAM,IAHtCD,EAeT,SAASG,EAAYC,GAEpB,OADcA,EAAKH,MAAM,4BAKlBI,EAAYD,GAAME,qBAHjBF,EAMT,SAASC,EAAYD,GACpB,IAAMG,EAAW,IAAIC,KAAKJ,GAG1B,OAFAG,EAASE,SAASF,EAASG,eAC3BH,EAASI,QAAQJ,EAASK,UAAY,GAC/BL,EAcO,SAASM,EAAT,GAA6D,IAA1CC,EAAyC,EAAzCA,OAAQC,EAAiC,EAAjCA,GAAiC,EAC9CC,oBAAS,GADqC,mBACnEC,EADmE,KAC3DC,EAD2D,OAElCC,YAAQ,6EACuBJ,GACtE,CAACK,QAAS,CAAEC,OAAQ,qBACpB,CAACC,OAAO,IAHDC,EAFkE,EAElEA,KAAMC,EAF4D,EAE5DA,MAAOC,EAFqD,EAErDA,UAAWC,EAF0C,EAE1CA,IAM1BC,EAAWb,EAAOc,UAAUb,GASlC,GAPAc,qBAAU,YArBX,SAAiBC,EAAmBC,GACnC,IAAMC,EAAW3B,EAAYyB,GAE7B,GADAE,EAASrB,QAAQqB,EAASpB,UAAY,GAClCoB,EAASC,UAAYzB,KAAK0B,MAAO,CACpC,IAAMC,EAAS,IAAI3B,KAAKuB,GAExB,OADAI,EAAOxB,QAAQwB,EAAOvB,UAAY,GAC3BuB,EAAOF,UAAYzB,KAAK0B,MAEhC,OAAO,GAcFE,CAAQT,EAASG,UAAWH,EAASI,WACxCb,GAAU,GACVQ,OAEC,CAACR,EAAWQ,EAAKC,KAEfV,EACJ,OACC,oBAAIoB,UAAU,2BAAd,SAAyC,yBAAQC,QAAS,WAAQpB,GAAU,GAAOQ,KAA1C,kBAA0DC,EAAS3C,KAAnE,IAA0EmB,EAAYwB,EAASG,WAA/F,IAA4G3B,EAAYwB,EAASI,cAI5K,GAAIN,IAAcF,EACjB,OACC,oBAAIc,UAAU,WAAd,SAAyB,0CAAaV,EAAS3C,KAAtB,WAI3B,GAAIwC,EACH,OACC,qBAAIa,UAAU,iBAAd,UAA+B,6BAAKb,EAAMe,UAAa,wBAAQD,QAASZ,EAAjB,wBAIzD,IAAKH,EACJ,OACC,qBAAIc,UAAU,iBAAd,UAA+B,8CAAiBV,EAAS3C,QAAU,wBAAQsD,QAASZ,EAAjB,wBAIrE,IAAMc,EAAiB1B,EAAO0B,eAAeC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,aAAe5B,KACxE,IAAKyB,EACJ,OACC,oBAAIH,UAAU,iBAAd,wCAGF,IAAMO,EAAqBC,OAAOC,OAAOvB,EAAKiB,gBAAgBO,QAAO,SAAAL,GAAC,OACrEA,EAAEM,YAAcR,EAAeQ,WAC/BN,EAAEO,QAAUT,EAAeS,OAC3BP,EAAEQ,WAAaV,EAAeU,YAC7BC,OACIC,EAAU7B,EAAK8B,SAASZ,MAAK,SAAAC,GAAC,OAAIA,EAAEM,YAAcR,EAAeQ,aACvE,IAAKI,EACJ,OACC,qBAAIf,UAAU,iBAAd,gCAAkD,uBAAM,wBAAQC,QAASZ,EAAjB,wBAgB1D,IAbA,IAAM4B,EAAmB/B,EAAKgC,kBAAkBd,MAAK,SAAAC,GAAC,OACrDA,EAAEM,YAAcR,EAAeQ,WAC/BN,EAAEO,QAAUT,EAAeS,OAC3BP,EAAEQ,WAAaV,EAAeU,YAEzBM,EAAK,eAAWhB,EAAegB,OAC/BC,EAAaL,EAAQI,IAAU,GAC/BE,EAAQC,MAAMC,KAAKH,GAAYI,QAAkC,SAACC,EAAGC,EAAGC,GAE7E,OADAF,EAAEC,GAAKC,EAAI,EACJF,IACL,IAEGG,EAASnD,EAAOmD,OAAOlB,QAAO,SAAAL,GAAC,OAAIA,EAAEC,aAAe5B,GAAM2B,EAAEwB,eAAF,OAAkBZ,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAkBY,gBAtE1B,aAuErE,IAAMC,EAAK,KACOF,EAAOG,MAAK,SAAA1B,GAAC,OAAIA,EAAE2B,UAAYF,MAEpDF,EAAOK,KAAK,CACXD,QAASF,EACTI,QAASnB,EAAQmB,WALpB,MAAoBZ,MAAMC,KAAKH,GAA/B,eAA6C,IAS7CQ,EAAOO,MAAK,SAACC,EAAGC,GACf,OAAID,EAAEP,aAAeQ,EAAER,YACfO,EAAEP,YAAcQ,EAAER,YAGtBO,EAAEJ,WAAWX,GAASgB,EAAEL,WAAWX,EAC/BA,EAAMe,EAAEJ,SAAWX,EAAMgB,EAAEL,SAG/BI,EAAEJ,WAAWX,GACR,EAGLgB,EAAEL,WAAWX,EACT,EAGD,KAGR,IAxIetD,EAwITuE,EAAiBlF,GAAwBwE,EAAOG,MAAK,SAAA1B,GAAC,OAAIA,EAAEkC,cAC5DC,EAAgBpF,GAAwBwE,EAAOG,MAAK,SAAA1B,GAAC,OAAIA,EAAEoC,aAC3DC,EAAiBtF,GAAwBwE,EAAOG,MAAK,SAAA1B,GAAC,OAAIA,EAAEsC,cAC5DC,EAAiBhB,EAAOG,MAAK,SAAA1B,GAAC,OAAIA,EAAEwC,cACpCC,EAAYlB,EAAOG,MAAK,SAAA1B,GAAC,OAAIA,EAAE0C,SAErC,OACC,qBAAI/C,UAAU,WAAd,UACC,oBAAIA,UAAU,eAAd,SACC,mBAAGgD,KAAI,0CAAqCtE,EAArC,KAAP,SAAoDY,EAAS3C,SAE9D,qBAAIqD,UAAU,OAAd,UACC,mBAAGA,UAAU,WAAWgD,KAAM1D,EAAS2D,SAAvC,SAAkD3D,EAAS4D,WAC3D,uBACA,oBAAGlD,UAAU,cAAcgD,KAAI,oCAA+BG,mBAAmB,GAAD,OAAI7D,EAAS8D,SAAb,aAA0B9D,EAAS+D,KAAnC,aAA4C/D,EAASgE,MAArD,YAA8DhE,EAASiE,OAAvJ,UACEjE,EAAS8D,SADX,KACuB9D,EAAS+D,KADhC,KACwC/D,EAASgE,MADjD,IACyDhE,EAASiE,UAGnE,qBAAIvD,UAAU,QAAd,mBAA6BG,EAAeS,MAAM,uBAAOT,EAAeU,YACxE,sBAAKb,UAAU,OAAf,WA3JajC,EA4JJgD,EAAQhD,KA3JLA,EAAKH,MAAM,4BAKlBI,EAAYD,GAAMyF,eAHjBzF,GAyJiB,uBACrBL,EAAOqD,EAAQ0C,OAFjB,IAE0BnE,EAASmE,MAAM,uBACvC/F,EAAOqD,EAAQ2C,OAHjB,IAG0BpE,EAASoE,MAAM,uBACvChG,EAAOqD,EAAQ4C,OAJjB,IAI0BrE,EAASqE,MAAM,uBACvCjG,EAAOqD,EAAQ6C,OALjB,IAK0BtE,EAASsE,SAEnC,uBACE3C,EAAmB,mBAAGjB,UAAU,YAAYgD,KAAI,0CAAqCtE,EAArC,oBAAmDuC,EAAiBY,YAApE,KAA7B,wBAAkI,KACvJ,uBACA,uBACA,qBAAK7B,UAAU,SAAf,SACC,kCACC,gCACC,+BACC,6BAAI,wBAAQC,QAASZ,EAAKW,UAAU,UAAU6D,SAAUzE,EAApD,SAAgEA,EAAY,MAAQ,cACvFkD,EAAiB,4CAAsB,KACvCE,EAAgB,2CAAqB,KACrCE,EAAiB,2CAAqB,KACtCE,EAAiB,6BAAKxF,EAAuB,QAAU,UAAgB,KACvE0F,EAAY,uCAAiB,UAGhC,gCACElB,EAAOkC,KAAI,SAAAC,GAAU,IAAD,IACdjC,EAAK,UAAGvF,EAAgBwH,EAAM7B,gBAAzB,iBAAG,EAAiC6B,EAAM/B,gBAA1C,aAAG,EAAiDpF,SAC/D,OACC,+BACC,qBAAIoD,UAAU,QAAd,UAAuB+D,EAAM/B,WAAWX,EAAjB,UAA4BA,EAAM0C,EAAM/B,SAAxC,MAAuD,GAAIF,GAAK,wBAAqBiC,EAAM/B,YACjHM,EAAiB,oBAAItC,UAAU,aAAd,SAA4B+D,EAAMxB,YAAc,KAAW,KAC5EC,EAAgB,oBAAIxC,UAAU,YAAd,SAA2B+D,EAAMtB,WAAa,KAAW,KACzEC,EAAiB,oBAAI1C,UAAU,aAAd,SAA4B+D,EAAMpB,YAAc,KAAW,KAC5EC,EAAiB,oBAAI5C,UAAU,aAAd,SAA4B+D,EAAMlB,YAAc,KAAW,KAC5EC,EAAY,oBAAI9C,UAAU,QAAd,SAAuB+D,EAAMhB,MAAN,UAAiBgB,EAAMhB,MAAvB,eAAmCxC,GAAuB,KAAW,OAN1G,UAAYwD,EAAM/B,QAAlB,YAA6B+B,EAAMlC,2BCrN5B,SAASmC,EAAT,GAAiD,IAAhCtF,EAA+B,EAA/BA,GAA+B,EAC3BI,YAAQ,0EACyBJ,GACnE,CAACK,QAAS,CAAEC,OAAQ,sBAFbE,EADsD,EACtDA,KAAMC,EADgD,EAChDA,MAKd,OAN8D,EACzCC,UAOnB,qBAAKY,UAAU,SAAf,wBAIEb,EAEF,qBAAKa,UAAU,eAAf,SAA+Bb,EAAMe,UAIlChB,EAOJ,sBAAKc,UAAU,SAAf,UACC,qBAAIA,UAAU,OAAd,UAAsBd,EAAKT,OAAOwF,UAAlC,IAA8C/E,EAAKT,OAAOyF,YAC1D,oBAAIlE,UAAU,OAAd,SAAsBd,EAAKiF,KAAKxH,OAChC,oBAAIqD,UAAU,YAAd,SACEQ,OAAO4D,KAAKlF,EAAKK,WAAW4C,MAAK,SAACC,EAAGC,GACrC,IAAMgC,EAAQnF,EAAKK,UAAU6C,GAAG3C,UAEhC,OADcP,EAAKK,UAAU8C,GAAG5C,UACnB6E,cAAcD,MACzBP,KAAI,SAAAxD,GAAU,OAChB,cAAC9B,EAAD,CAA2BC,OAAQS,EAAMR,IAAK4B,GAA/BA,WAdjB,qBAAKN,UAAU,eAAf,sC,mBCdY,SAASuE,EAAT,GAA2D,IANvDC,EAMahH,EAAyC,EAAzCA,OAAQb,EAAiC,EAAjCA,KAAiC,EAC5CgC,qBAD4C,mBACjE8F,EADiE,KACzDC,EADyD,OAE1C/F,mBAAmB,IAFuB,mBAEjEgG,EAFiE,KAExDC,EAFwD,OAGhC9F,YAAQ,6EACuBtB,GACtE,CAACuB,QAAS,CAAEC,OAAQ,qBACpB,CAACC,OAAO,IAHDC,EAHgE,EAGhEA,KAAMC,EAH0D,EAG1DA,MAAOC,EAHmD,EAGnDA,UAAWC,EAHwC,EAGxCA,IAchC,GARAG,qBAAU,WACLhC,EACH6B,IAEAqF,EAAUG,KAET,CAACxF,EAAKqF,EAAWlH,IAEhB4B,EACH,OACC,6CAIF,GAAID,EACH,OACC,qBAAKa,UAAU,QAAf,SAAwBb,EAAMe,UAIhC,IAAKuE,IAAWvF,EACf,OACC,qBAAKc,UAAU,QAAf,qBAIF,IAAKyE,GAAUvF,EAAM,CACpB,IAAM4F,GAASnI,GAAQ,IAAIoI,cAAcC,MAAM,KAC/CN,EAAUlE,OAAOC,OAAOvB,EAAKuF,QAAQ/D,QAAO,SAAAuE,GAC3C,OAAIH,EAAMhE,OAAS,EACXmE,EAAEhB,UAAUc,cAAcG,WAAWJ,EAAM,KAAOG,EAAEf,SAASa,cAAcG,WAAWJ,EAAM,IAG7FG,EAAEhB,UAAUc,cAAcG,WAAWJ,EAAM,KAAOG,EAAEf,SAASa,cAAcG,WAAWJ,EAAM,OACjGhB,KAAI,SAAAmB,GACN,MAAO,CACNvG,GAAIuG,EAAEE,SACNxI,KAAK,GAAD,OAAKsI,EAAEhB,UAAP,YAAoBgB,EAAEf,eAmB7B,OACC,sBAAKlE,UAAU,QAAf,UACC,kDACA,6BACGyE,EAAgBA,EAAOX,KAAI,SAAAmB,GAC5B,OACC,oBAAIjF,UAAU,iBAAd,SAA4C,kCAAO,uBAAOoF,KAAK,WAAWT,QAASA,EAAQU,SAASJ,EAAEvG,IAAK4G,UApBxF5G,EAoBiHuG,EAAEvG,GAnBnI,YAA2C,IAAzC6G,EAAwC,EAAxCA,OACHA,IAIDA,EAAOZ,QACVC,EAAW,YAAI,IAAIY,IAAJ,sBAAYb,GAAZ,CAAqBjG,OAEpCkG,EAAWD,EAAQjE,QAAO,SAAA+E,GAAC,OAAIA,IAAM/G,WAW2GuG,EAAEtI,SAA5GsI,EAAEtI,MApB3C,IAAwB+B,KAkBV,OAMZ,wBAAQuB,SAjFQuE,EAiFWG,EAhFtB,WACNrH,OAAOC,SAASyF,KAAhB,cAA8BwB,EAAIkB,KAAK,QA+EtC,mBCtFY,SAASC,IACvB,IAAMC,EAAQ,IAAIvI,gBAAgBC,OAAOC,SAASC,QAC5CkB,EAAKkH,EAAMnI,IAAI,MACrB,GAAIiB,EAAI,CACP,IAAM8F,EAAM9F,EAAGsG,MAAM,KACrB,GAAIR,EAAI1D,OAAS,EAChB,OACC,qBAAKd,UAAU,UAAf,SACEwE,EAAIV,KAAI,SAAAnC,GACR,OACC,cAACqC,EAAD,CAAgBtF,GAAIiD,GAAPA,QAQnB,IAAMtB,EAAIuF,EAAMnI,IAAI,KAChBD,EAAS,KACTb,EAAO,KACX,GAAI0D,EAAG,CACN,IAAMyE,EAAQzE,EAAE2E,MAAM,KACtBxH,EAASsH,EAAMe,QACflJ,EAAOmI,EAAMY,KAAK,KAEnB,OACC,cAACnB,EAAD,CAAQ/G,OAAQA,EAAQb,KAAMA,IC1BhCmJ,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAACL,EAAD,MAEDM,SAASC,eAAe,W","file":"static/js/main.1d1e6547.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useFetch } from \"react-async\";\nimport {\n\tSanctionProps,\n\tsanctionData,\n\teventsByProgramData,\n\tsquadLetter,\n} from \"./types\";\n\nconst eventsByProgram: eventsByProgramData = {\n\tWomen: {\n\t\taa: {shortName: \"AA\", name: \"AA\", longName: \"All Around\"},\n\t\t1: {shortName: \"VT\", name: \"Vault\", longName: \"Vault\"},\n\t\t2: {shortName: \"UB\", name: \"Bars\", longName: \"Bars\"},\n\t\t3: {shortName: \"BB\", name: \"Beam\", longName: \"Beam\"},\n\t\t4: {shortName: \"FX\", name: \"Floor\", longName: \"Floor\"},\n\t},\n\tMen: {\n\t\taa: {shortName: \"AA\", name: \"AA\", longName: \"All Around\"},\n\t\t1: {shortName: \"FX\", name: \"Floor\", longName: \"Floor\"},\n\t\t2: {shortName: \"PH\", name: \"Pommel\", longName: \"Pommel\"},\n\t\t3: {shortName: \"SR\", name: \"Rings\", longName: \"Rings\"},\n\t\t4: {shortName: \"VT\", name: \"Vault\", longName: \"Vault\"},\n\t\t5: {shortName: \"PB\", name: \"P Bars\", longName: \"P Bars\"},\n\t\t6: {shortName: \"HB\", name: \"H Bar\", longName: \"H Bar\"},\n\t},\n};\n\nconst query = new URLSearchParams(window.location.search);\nconst SHOW_DETAILED_SCORES = query.get(\"detail\") !== null;\n\nfunction toTime(time: string): string {\n\tconst match = time.match(/(\\d\\d):(\\d\\d)(?::\\d\\d)?/);\n\tif (!match) {\n\t\treturn time;\n\t}\n\n\treturn `${match[1].replace(/^0/, \"\")}:${match[2]}`;\n}\n\nfunction toDate(date: string): string {\n\tconst match = date.match(/(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)/);\n\tif (!match) {\n\t\treturn date;\n\t}\n\n\treturn toLocalDate(date).toDateString();\n}\n\nfunction toShortDate(date: string): string {\n\tconst match = date.match(/(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)/);\n\tif (!match) {\n\t\treturn date;\n\t}\n\n\treturn toLocalDate(date).toLocaleDateString();\n}\n\nfunction toLocalDate(date: string) {\n\tconst datetime = new Date(date);\n\tdatetime.setHours(datetime.getUTCHours());\n\tdatetime.setDate(datetime.getDate() + 1);\n\treturn datetime;\n}\n\nfunction isToday(startDate: string, endDate: string) {\n\tconst startDay = toLocalDate(startDate);\n\tstartDay.setDate(startDay.getDate() - 2);\n\tif (startDay.getTime() < Date.now()) {\n\t\tconst endDay = new Date(endDate);\n\t\tendDay.setDate(endDay.getDate() + 2);\n\t\treturn endDay.getTime() > Date.now();\n\t}\n\treturn false;\n}\n\nexport default function Sanction({person, id}: SanctionProps): JSX.Element {\n\tconst [loaded, setLoaded] = useState(false);\n\tconst { data, error, isPending, run } = useFetch<sanctionData>(\n\t\t`https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/sanctions/${id}`,\n\t\t{headers: { accept: \"application/json\" }},\n\t\t{defer: true},\n\t);\n\n\tconst sanction = person.sanctions[id];\n\n\tuseEffect(() => {\n\t\tif (isToday(sanction.startDate, sanction.endDate)) {\n\t\t\tsetLoaded(true);\n\t\t\trun();\n\t\t}\n\t}, [setLoaded, run, sanction]);\n\n\tif (!loaded) {\n\t\treturn (\n\t\t\t<li className=\"sanction sanction-button\"><button onClick={() => { setLoaded(true); run(); }}>Load {sanction.name} {toShortDate(sanction.startDate)}-{toShortDate(sanction.endDate)}</button></li>\n\t\t);\n\t}\n\n\tif (isPending && !data) {\n\t\treturn (\n\t\t\t<li className=\"sanction\"><h3>Loading {sanction.name}...</h3></li>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<li className=\"sanction error\"><h3>{error.message}</h3><button onClick={run}>Refresh</button></li>\n\t\t);\n\t}\n\n\tif (!data) {\n\t\treturn (\n\t\t\t<li className=\"sanction error\"><h3>No data for {sanction.name}</h3><button onClick={run}>Refresh</button></li>\n\t\t);\n\t}\n\n\tconst sanctionPeople = person.sanctionPeople.find(s => s.sanctionId === id);\n\tif (!sanctionPeople) {\n\t\treturn (\n\t\t\t<li className=\"sanction error\">Cannot find sanctionPeople</li>\n\t\t);\n\t}\n\tconst totalSessionPeople = Object.values(data.sanctionPeople).filter(s =>\n\t\ts.sessionId === sanctionPeople.sessionId &&\n\t\ts.level === sanctionPeople.level &&\n\t\ts.division === sanctionPeople.division,\n\t).length;\n\tconst session = data.sessions.find(s => s.sessionId === sanctionPeople.sessionId);\n\tif (!session) {\n\t\treturn (\n\t\t\t<li className=\"sanction error\">Cannot find session<br /><button onClick={run}>Refresh</button></li>\n\t\t);\n\t}\n\tconst sessionResultSet = data.sessionResultSets.find(s =>\n\t\ts.sessionId === sanctionPeople.sessionId &&\n\t\ts.level === sanctionPeople.level &&\n\t\ts.division === sanctionPeople.division,\n\t);\n\tconst squad = `squad${sanctionPeople.squad}` as squadLetter;\n\tconst squadOrder = session[squad] || \"\";\n\tconst order = Array.from(squadOrder).reduce<{[event: string]: number}>((o, e, i) => {\n\t\to[e] = i + 1;\n\t\treturn o;\n\t}, {});\n\n\tconst scores = person.scores.filter(s => s.sanctionId === id && s.resultSetId === sessionResultSet?.resultSetId);\n\tfor (const event of Array.from(squadOrder)) {\n\t\tconst hasEventScore = scores.some(s => s.eventId === event);\n\t\tif (!hasEventScore) {\n\t\t\tscores.push({\n\t\t\t\teventId: event,\n\t\t\t\tprogram: session.program,\n\t\t\t});\n\t\t}\n\t}\n\tscores.sort((a, b) => {\n\t\tif (a.resultSetId && b.resultSetId) {\n\t\t\treturn a.resultSetId - b.resultSetId;\n\t\t}\n\n\t\tif (a.eventId in order && b.eventId in order) {\n\t\t\treturn order[a.eventId] - order[b.eventId];\n\t\t}\n\n\t\tif (a.eventId in order) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (b.eventId in order) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t});\n\n\tconst showDifficulty = SHOW_DETAILED_SCORES && scores.some(s => s.difficulty);\n\tconst showExecution = SHOW_DETAILED_SCORES && scores.some(s => s.execution);\n\tconst showDeductions = SHOW_DETAILED_SCORES && scores.some(s => s.deductions);\n\tconst showFinalScore = scores.some(s => s.finalScore);\n\tconst showPlace = scores.some(s => s.place);\n\n\treturn (\n\t\t<li className=\"sanction\">\n\t\t\t<h3 className=\"sanctionName\">\n\t\t\t\t<a href={`https://myusagym.com/meets/live/${id}/`}>{sanction.name}</a>\n\t\t\t</h3>\n\t\t\t<h5 className=\"site\">\n\t\t\t\t<a className=\"siteName\" href={sanction.siteLink}>{sanction.siteName}</a>\n\t\t\t\t<br />\n\t\t\t\t<a className=\"siteAddress\" href={`https://maps.google.com?q=${encodeURIComponent(`${sanction.address1}, ${sanction.city}, ${sanction.state} ${sanction.zip}`)}`}>\n\t\t\t\t\t{sanction.address1}, {sanction.city}, {sanction.state} {sanction.zip}\n\t\t\t\t</a>\n\t\t\t</h5>\n\t\t\t<h3 className=\"level\">Level {sanctionPeople.level}<br />{sanctionPeople.division}</h3>\n\t\t\t<div className=\"date\">\n\t\t\t\t{toDate(session.date)}<br />\n\t\t\t\t{toTime(session.time1)} {sanction.time1}<br />\n\t\t\t\t{toTime(session.time2)} {sanction.time2}<br />\n\t\t\t\t{toTime(session.time3)} {sanction.time3}<br />\n\t\t\t\t{toTime(session.time4)} {sanction.time4}\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t{ sessionResultSet ? <a className=\"startList\" href={`https://myusagym.com/meets/live/${id}/results/${sessionResultSet.resultSetId}/`}>All Scores</a> : null}\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<div className=\"scores\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th><button onClick={run} className=\"refresh\" disabled={isPending}>{isPending ? \"...\" : \"Refresh\"}</button></th>\n\t\t\t\t\t\t\t{showDifficulty ? <th>Difficulty</th> : null}\n\t\t\t\t\t\t\t{showExecution ? <th>Execution</th> : null}\n\t\t\t\t\t\t\t{showDeductions ? <th>Deduction</th> : null}\n\t\t\t\t\t\t\t{showFinalScore ? <th>{SHOW_DETAILED_SCORES ? \"Final\" : \"Score\"}</th> : null}\n\t\t\t\t\t\t\t{showPlace ? <th>Place</th> : null}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{scores.map(score => {\n\t\t\t\t\t\t\tconst event = eventsByProgram[score.program]?.[score.eventId]?.longName;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr key={`${score.eventId} ${score.resultSetId}`}>\n\t\t\t\t\t\t\t\t\t<th className=\"event\">{score.eventId in order ? `${order[score.eventId]}. ` : \"\"}{event || `Unknown Event ${score.eventId}`}</th>\n\t\t\t\t\t\t\t\t\t{showDifficulty ? <td className=\"difficulty\">{score.difficulty || \"\"}</td> : null}\n\t\t\t\t\t\t\t\t\t{showExecution ? <td className=\"execution\">{score.execution || \"\"}</td> : null}\n\t\t\t\t\t\t\t\t\t{showDeductions ? <td className=\"deductions\">{score.deductions || \"\"}</td> : null}\n\t\t\t\t\t\t\t\t\t{showFinalScore ? <td className=\"finalScore\">{score.finalScore || \"\"}</td> : null}\n\t\t\t\t\t\t\t\t\t{showPlace ? <td className=\"place\">{score.place ? `${score.place} of ${totalSessionPeople}` : \"\"}</td> : null}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</li>\n\t);\n}\n\n/*\nhttps://api.myusagym.com/v2/sanctions/76009\n\n{\n  \"sanction\": {\n    \"sanctionId\": 76009,\n    \"name\": \"Twin Cities Invite\",\n    \"startDate\": \"2021-01-23\",\n    \"endDate\": \"2021-01-24\",\n    \"address1\": \"5903 Sunnyfield Rd E\",\n    \"address2\": null,\n    \"city\": \"Minnetrista\",\n    \"state\": \"MN\",\n    \"zip\": \"55364\",\n    \"status\": \"Closed\",\n    \"type\": \"INVITA\",\n    \"siteName\": \"Mound Westonka Activity Center\",\n    \"siteLink\": \"http://mhgmeets.com/\",\n    \"disciplineTypeId\": 2,\n    \"meetStatus\": \"Session 6 - Awards\",\n    \"time1\": \"Open Warmup\",\n    \"time2\": \"Timed Warmup\",\n    \"time3\": \"March In\",\n    \"time4\": \"Awards\",\n    \"apikey\": \"97548729\",\n    \"vendorApiKey\": \"ad3cdccf-72af-4bb4-a7c6-3ccdde65d2c1\",\n    \"feature\": null,\n    \"logoUrl\": null,\n    \"bannerImageUrl\": null,\n    \"hidden\": 0,\n    \"featuredEventId\": null,\n    \"program\": 2,\n    \"website\": \"http://mhgmeets.com/\"\n  },\n  \"sessions\": [\n    {\n      \"sessionId\": \"6\",\n      \"sanctionId\": 76009,\n      \"name\": \"Level 5\",\n      \"date\": \"2021-01-24\",\n      \"time1\": \"04:30:00\",\n      \"time2\": \"05:00:00\",\n      \"time3\": \"05:20:00\",\n      \"time4\": \"08:35:00\",\n      \"squadA\": \"123456\",\n      \"squadB\": \"234561\",\n      \"squadC\": \"345612\",\n      \"squadD\": \"456123\",\n      \"squadE\": \"561234\",\n      \"squadF\": \"612345\",\n      \"squadG\": \"\",\n      \"squadH\": \"\",\n      \"squadI\": \"\",\n      \"program\": \"Men\"\n    }\n  ],\n  \"sessionResultSets\": [\n    {\n      \"resultSetId\": 109955,\n      \"sessionId\": \"6\",\n      \"sanctionId\": 76009,\n      \"level\": \"51\",\n      \"division\": \"11+ yrs\",\n      \"official\": 0,\n      \"status\": null\n    }\n  ],\n  \"people\": {\n    \"1913246\": {\n      \"personId\": 1913246,\n      \"clubId\": 24174,\n      \"firstName\": \"Logan\",\n      \"lastName\": \"Brix\",\n      \"dob\": null,\n      \"city\": null,\n      \"state\": null,\n      \"zip\": null,\n      \"country\": null,\n      \"gender\": \"Male\"\n    },\n  },\n  \"sanctionPeople\": {\n    \"1913246\": {\n      \"sanctionId\": 76009,\n      \"personId\": 1913246,\n      \"clubId\": 24174,\n      \"sessionId\": \"6\",\n      \"level\": \"51\",\n      \"division\": \"11+ yrs\",\n      \"program\": \"Men\",\n      \"squad\": \"B\",\n      \"flight\": \"A\"\n    },\n  },\n  \"clubs\": {\n    \"24174\": {\n      \"clubId\": 24174,\n      \"name\": \"North Crest Kids Activity Center\",\n      \"shortName\": \"North Crest\",\n      \"address1\": \"1009 Industrial Drive South\",\n      \"address2\": null,\n      \"city\": \"Sauk Rapids\",\n      \"state\": \"MN\",\n      \"zip\": \"56379\",\n      \"website\": \"http://www.northcrestkids.com\",\n      \"emailAddress\": \"pmstone1@gmail.com\",\n      \"phone\": 3202513416,\n      \"fax\": 3202517533\n    },\n  },\n  \"sanctionClubs\": {\n    \"24174\": {\n      \"sanctionId\": 76009,\n      \"clubId\": 24174,\n      \"clubMeetId\": 27,\n      \"clubShortName\": \"North Crest\"\n    },\n  }\n}\n */\n","import { useFetch } from \"react-async\";\nimport Sanction from \"./Sanction\";\nimport {\n\tPersonProps,\n\tpersonData,\n} from \"./types\";\n\n// const T = true;\n\nexport default function Person({id}: PersonProps): JSX.Element {\n\tconst { data, error, isPending } = useFetch<personData>(\n\t\t`https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/people/${id}`,\n\t\t{headers: { accept: \"application/json\" }},\n\t);\n\n\tif (isPending) {\n\t\treturn (\n\t\t\t<div className=\"person\">Loading...</div>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<div className=\"person error\">{error.message}</div>\n\t\t);\n\t}\n\n\tif (!data) {\n\t\treturn (\n\t\t\t<div className=\"person error\">No data for this person.</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"person\">\n\t\t\t<h1 className=\"name\">{data.person.firstName} {data.person.lastName}</h1>\n\t\t\t<h2 className=\"club\">{data.club.name}</h2>\n\t\t\t<ul className=\"sanctions\">\n\t\t\t\t{Object.keys(data.sanctions).sort((a, b) => {\n\t\t\t\t\tconst aDate = data.sanctions[a].startDate;\n\t\t\t\t\tconst bDate = data.sanctions[b].startDate;\n\t\t\t\t\treturn bDate.localeCompare(aDate);\n\t\t\t\t}).map(sanctionId =>\n\t\t\t\t\t<Sanction key={sanctionId} person={data} id={+sanctionId} />,\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n\n/*\nhttps://api.myusagym.com/v2/people/1913246\n\n{\n  person: {\n    personId: 1913246,\n    firstName: 'Logan',\n    lastName: 'Brix',\n    gender: 'Male',\n    clubId: 24174\n  },\n  club: { clubId: 24174, name: 'North Crest Kids Activity Center' },\n  scores: [\n    {\n      eventId: '1',\n      sanctionId: 76009,\n      place: '16',\n      rank: 16,\n      personId: 1913246,\n      resultSetId: 109955,\n      clubId: 24174,\n      attempt: '1',\n      difficulty: null,\n      execution: '7.100',\n      deductions: null,\n      finalScore: '7.100',\n      program: 'Men',\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs'\n    },\n    {\n      eventId: '2',\n      sanctionId: 76009,\n      place: '12',\n      rank: 12,\n      personId: 1913246,\n      resultSetId: 109955,\n      clubId: 24174,\n      attempt: '1',\n      difficulty: null,\n      execution: '8.900',\n      deductions: null,\n      finalScore: '8.900',\n      program: 'Men',\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs'\n    },\n    {\n      eventId: '3',\n      sanctionId: 76009,\n      place: '15',\n      rank: 15,\n      personId: 1913246,\n      resultSetId: 109955,\n      clubId: 24174,\n      attempt: '1',\n      difficulty: null,\n      execution: '7.900',\n      deductions: null,\n      finalScore: '7.900',\n      program: 'Men',\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs'\n    },\n    {\n      eventId: '4',\n      sanctionId: 76009,\n      place: '20',\n      rank: 20,\n      personId: 1913246,\n      resultSetId: 109955,\n      clubId: 24174,\n      attempt: '1',\n      difficulty: null,\n      execution: '8.400',\n      deductions: null,\n      finalScore: '8.400',\n      program: 'Men',\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs'\n    },\n    {\n      eventId: '5',\n      sanctionId: 76009,\n      place: '23',\n      rank: 23,\n      personId: 1913246,\n      resultSetId: 109955,\n      clubId: 24174,\n      attempt: '1',\n      difficulty: null,\n      execution: '6.400',\n      deductions: null,\n      finalScore: '6.400',\n      program: 'Men',\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs'\n    },\n    {\n      eventId: '6',\n      sanctionId: 76009,\n      place: '13T',\n      rank: 13,\n      personId: 1913246,\n      resultSetId: 109955,\n      clubId: 24174,\n      attempt: '1',\n      difficulty: null,\n      execution: '6.500',\n      deductions: null,\n      finalScore: '6.500',\n      program: 'Men',\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs'\n    },\n    {\n      eventId: 'aa',\n      sanctionId: 76009,\n      place: '15T',\n      rank: 15,\n      personId: 1913246,\n      resultSetId: 109955,\n      clubId: 24174,\n      attempt: null,\n      difficulty: null,\n      execution: null,\n      deductions: null,\n      finalScore: '45.200',\n      program: 'Men',\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs'\n    }\n  ],\n  sanctions: {\n    '76009': {\n      sanctionId: 76009,\n      name: 'Twin Cities Invite',\n      startDate: '2021-01-23',\n      endDate: '2021-01-24',\n      address1: '5903 Sunnyfield Rd E',\n      address2: null,\n      city: 'Minnetrista',\n      state: 'MN',\n      zip: '55364',\n      status: 'Approved',\n      type: 'INVITA',\n      siteName: 'Mound Westonka Activity Center',\n      siteLink: 'http://mhgmeets.com/',\n      disciplineTypeId: 2,\n      meetStatus: 'Session 6 - Awards',\n      time1: 'Open Warmup',\n      time2: 'Timed Warmup',\n      time3: 'March In',\n      time4: 'Awards',\n      apikey: '97548729',\n      vendorApiKey: 'ad3cdccf-72af-4bb4-a7c6-3ccdde65d2c1',\n      feature: null,\n      logoUrl: null,\n      bannerImageUrl: null,\n      hidden: 0,\n      featuredEventId: null\n    }\n  },\n  sanctionPeople: [\n    {\n      sanctionId: 76009,\n      personId: 1913246,\n      clubId: 24174,\n      sessionId: '6',\n      level: '51',\n      division: '11+ yrs',\n      program: 'Men',\n      squad: 'B',\n      flight: 'A'\n    }\n  ]\n}\n */\n","import { useState, useEffect } from \"react\";\nimport { useFetch } from \"react-async\";\nimport {\n\tSearchProps,\n\tsanctionData,\n\tpeopleData,\n} from \"./types\";\nimport names from \"./names.json\";\n\nfunction changeIds(ids: number[]) {\n\treturn () => {\n\t\twindow.location.href = `?id=${ids.join(\",\")}`;\n\t};\n}\n\nexport default function Search({search, name}: SearchProps): JSX.Element {\n\tconst [people, setPeople] = useState<peopleData[]>();\n\tconst [checked, setChecked] = useState<number[]>([]);\n\tconst { data, error, isPending, run } = useFetch<sanctionData>(\n\t\t`https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/sanctions/${search}`,\n\t\t{headers: { accept: \"application/json\" }},\n\t\t{defer: true},\n\t);\n\n\tuseEffect(() => {\n\t\tif (search) {\n\t\t\trun();\n\t\t} else {\n\t\t\tsetPeople(names);\n\t\t}\n\t}, [run, setPeople, search]);\n\n\tif (isPending) {\n\t\treturn (\n\t\t\t<div>Loading...</div>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<div className=\"error\">{error.message}</div>\n\t\t);\n\t}\n\n\tif (!people && !data) {\n\t\treturn (\n\t\t\t<div className=\"error\">No data</div>\n\t\t);\n\t}\n\n\tif (!people && data) {\n\t\tconst terms = (name || \"\").toLowerCase().split(\" \");\n\t\tsetPeople(Object.values(data.people).filter(p => {\n\t\t\tif (terms.length > 1) {\n\t\t\t\treturn p.firstName.toLowerCase().startsWith(terms[0]) && p.lastName.toLowerCase().startsWith(terms[1]);\n\t\t\t}\n\n\t\t\treturn p.firstName.toLowerCase().startsWith(terms[0]) || p.lastName.toLowerCase().startsWith(terms[0]);\n\t\t}).map(p => {\n\t\t\treturn {\n\t\t\t\tid: p.personId,\n\t\t\t\tname: `${p.firstName} ${p.lastName}`,\n\t\t\t};\n\t\t}));\n\t}\n\n\tfunction changeCheckbox(id: number) {\n\t\treturn ({target}: {target: HTMLInputElement}) => {\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (target.checked) {\n\t\t\t\tsetChecked([...new Set([...checked, id])]);\n\t\t\t} else {\n\t\t\t\tsetChecked(checked.filter(c => c !== id));\n\t\t\t}\n\t\t};\n\t}\n\n\treturn (\n\t\t<div className=\"names\">\n\t\t\t<h2>Pick an Athlete:</h2>\n\t\t\t<ul>\n\t\t\t\t{!people ? null : people.map(p => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li className=\"names-checkbox\" key={p.name}><label><input type=\"checkbox\" checked={checked.includes(p.id)} onChange={changeCheckbox(p.id)} />{p.name}</label></li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<button onClick={changeIds(checked)}>Go</button>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Person from \"./Person\";\nimport Search from \"./Search\";\n\nexport default function App(): JSX.Element {\n\tconst query = new URLSearchParams(window.location.search);\n\tconst id = query.get(\"id\");\n\tif (id) {\n\t\tconst ids = id.split(\",\");\n\t\tif (ids.length > 0) {\n\t\t\treturn (\n\t\t\t\t<div className=\"persons\">\n\t\t\t\t\t{ids.map(i => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Person key={i} id={i} />\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\tconst s = query.get(\"s\");\n\tlet search = null;\n\tlet name = null;\n\tif (s) {\n\t\tconst terms = s.split(\" \");\n\t\tsearch = terms.shift() as string;\n\t\tname = terms.join(\" \");\n\t}\n\treturn (\n\t\t<Search search={search} name={name} />\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\"),\n);\n"],"sourceRoot":""}