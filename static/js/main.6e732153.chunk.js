(this["webpackJsonpmy-usa-gymnast"]=this["webpackJsonpmy-usa-gymnast"]||[]).push([[0],{21:function(e){e.exports=JSON.parse('[{"name":"Lexi Brix","id":1979112},{"name":"Charlotte Ward","id":1985072},{"name":"Cortney Frank","id":1979753},{"name":"Elliana Crowder","id":2002165},{"name":"Tessa Weyer","id":1975250},{"name":"Logan Brix","id":1913246},{"name":"Gordy Jacques","id":1271797},{"name":"Caleb Skramsted","id":1400313},{"name":"Chase Penny","id":1200719},{"name":"Adrian Ramos","id":1403712},{"name":"Elijah Ramos","id":1405166},{"name":"Cole Quinlan","id":1571232},{"name":"Romello Bell","id":1913253},{"name":"Corbin Meunier","id":1913332},{"name":"Michael Boehmer","id":1918513}]')},32:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(19),a=n.n(r),i=n(3),o=n(5),l=n(0),d={Women:{aa:{shortName:"AA",name:"AA",longName:"All Around"},1:{shortName:"VT",name:"Vault",longName:"Vault"},2:{shortName:"UB",name:"Bars",longName:"Bars"},3:{shortName:"BB",name:"Beam",longName:"Beam"},4:{shortName:"FX",name:"Floor",longName:"Floor"}},Men:{aa:{shortName:"AA",name:"AA",longName:"All Around"},1:{shortName:"FX",name:"Floor",longName:"Floor"},2:{shortName:"PH",name:"Pommel",longName:"Pommel"},3:{shortName:"SR",name:"Rings",longName:"Rings"},4:{shortName:"VT",name:"Vault",longName:"Vault"},5:{shortName:"PB",name:"P Bars",longName:"P Bars"},6:{shortName:"HB",name:"H Bar",longName:"H Bar"}}},u=null!==new URLSearchParams(window.location.search).get("detail");function j(e){var t=e.match(/(\d\d):(\d\d)(?::\d\d)?/);return t?"".concat(t[1].replace(/^0/,""),":").concat(t[2]):e}function m(e){return e.match(/(\d\d\d\d)-(\d\d)-(\d\d)/)?h(e).toLocaleDateString():e}function h(e){var t=new Date(e);return t.setHours(t.getUTCHours()),t.setDate(t.getDate()+1),t}function b(e){var t=e.person,n=e.id,s=Object(c.useState)(!1),r=Object(i.a)(s,2),a=r[0],b=r[1],f=Object(o.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/sanctions/".concat(n),{headers:{accept:"application/json"}},{defer:!0}),O=f.data,x=f.error,p=f.isPending,v=f.run,N=t.sanctions[n];if(Object(c.useEffect)((function(){(function(e,t){var n=h(e);if(n.setDate(n.getDate()-2),n.getTime()<Date.now()){var c=new Date(t);return c.setDate(c.getDate()+2),c.getTime()>Date.now()}return!1})(N.startDate,N.endDate)&&(b(!0),v())}),[b,v,N]),!a)return Object(l.jsx)("li",{className:"sanction sanction-button",children:Object(l.jsxs)("button",{onClick:function(){b(!0),v()},children:["Load ",N.name,Object(l.jsx)("br",{}),m(N.startDate),"-",m(N.endDate)]})});if(p&&!O)return Object(l.jsx)("li",{className:"sanction",children:Object(l.jsxs)("h3",{children:["Loading ",N.name,"..."]})});if(x)return Object(l.jsxs)("li",{className:"sanction error",children:[Object(l.jsx)("h3",{children:x.message}),Object(l.jsx)("button",{onClick:v,children:"Refresh"})]});if(!O)return Object(l.jsxs)("li",{className:"sanction error",children:[Object(l.jsxs)("h3",{children:["No data for ",N.name]}),Object(l.jsx)("button",{onClick:v,children:"Refresh"})]});var g=t.sanctionPeople.find((function(e){return e.sanctionId===n}));if(!g)return Object(l.jsx)("li",{className:"sanction error",children:"Cannot find sanctionPeople"});var y=Object.values(O.sanctionPeople).filter((function(e){return e.sessionId===g.sessionId&&e.level===g.level&&e.division===g.division})).length,I=O.sessions.find((function(e){return e.sessionId===g.sessionId}));if(!I)return Object(l.jsxs)("li",{className:"sanction error",children:["Cannot find session",Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:v,children:"Refresh"})]});for(var w=O.sessionResultSets.find((function(e){return e.sessionId===g.sessionId&&e.level===g.level&&e.division===g.division})),S="squad".concat(g.squad),C=I[S]||"",L=Array.from(C).reduce((function(e,t,n){return e[t]=n+1,e}),{}),k=t.scores.filter((function(e){return e.sanctionId===n&&e.resultSetId===(null===w||void 0===w?void 0:w.resultSetId)})),D=function(){var e=P[A];k.some((function(t){return t.eventId===e}))||k.push({eventId:e,program:I.program})},A=0,P=Array.from(C);A<P.length;A++)D();k.sort((function(e,t){return e.resultSetId&&t.resultSetId?e.resultSetId-t.resultSetId:e.eventId in L&&t.eventId in L?L[e.eventId]-L[t.eventId]:e.eventId in L?-1:t.eventId in L?1:0}));var B,R=u&&k.some((function(e){return e.difficulty})),W=u&&k.some((function(e){return e.execution})),E=u&&k.some((function(e){return e.deductions})),T=k.some((function(e){return e.finalScore})),F=k.some((function(e){return e.place}));return Object(l.jsxs)("li",{className:"sanction",children:[Object(l.jsx)("h3",{className:"sanctionName",children:Object(l.jsx)("a",{href:"https://myusagym.com/meets/live/".concat(n,"/"),children:N.name})}),Object(l.jsxs)("h5",{className:"site",children:[Object(l.jsx)("a",{className:"siteName",href:N.siteLink,children:N.siteName}),Object(l.jsx)("br",{}),Object(l.jsxs)("a",{className:"siteAddress",href:"https://maps.google.com?q=".concat(encodeURIComponent("".concat(N.address1,", ").concat(N.city,", ").concat(N.state," ").concat(N.zip))),children:[N.address1,", ",N.city,", ",N.state," ",N.zip]})]}),Object(l.jsxs)("h3",{className:"level",children:["Level ",g.level,Object(l.jsx)("br",{}),g.division]}),Object(l.jsxs)("div",{className:"date",children:[(B=I.date,B.match(/(\d\d\d\d)-(\d\d)-(\d\d)/)?h(B).toDateString():B),Object(l.jsx)("br",{}),j(I.time1)," ",N.time1,Object(l.jsx)("br",{}),j(I.time2)," ",N.time2,Object(l.jsx)("br",{}),j(I.time3)," ",N.time3,Object(l.jsx)("br",{}),j(I.time4)," ",N.time4]}),Object(l.jsx)("br",{}),w?Object(l.jsx)("a",{className:"startList",href:"https://myusagym.com/meets/live/".concat(n,"/results/").concat(w.resultSetId,"/"),children:"All Scores"}):null,Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"scores",children:Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:Object(l.jsx)("button",{onClick:v,className:"refresh",disabled:p,children:p?"...":"Refresh"})}),R?Object(l.jsx)("th",{children:"Difficulty"}):null,W?Object(l.jsx)("th",{children:"Execution"}):null,E?Object(l.jsx)("th",{children:"Deduction"}):null,T?Object(l.jsx)("th",{children:u?"Final":"Score"}):null,F?Object(l.jsx)("th",{children:"Place"}):null]})}),Object(l.jsx)("tbody",{children:k.map((function(e){var t,n,c=null===(t=d[e.program])||void 0===t||null===(n=t[e.eventId])||void 0===n?void 0:n.longName;return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("th",{className:"event",children:[e.eventId in L?"".concat(L[e.eventId],". "):"",c||"Unknown Event ".concat(e.eventId)]}),R?Object(l.jsx)("td",{className:"difficulty",children:e.difficulty||""}):null,W?Object(l.jsx)("td",{className:"execution",children:e.execution||""}):null,E?Object(l.jsx)("td",{className:"deductions",children:e.deductions||""}):null,T?Object(l.jsx)("td",{className:"finalScore",children:e.finalScore||""}):null,F?Object(l.jsx)("td",{className:"place",children:e.place?"".concat(e.place," of ").concat(y):""}):null]},"".concat(e.eventId," ").concat(e.resultSetId))}))})]})})]})}function f(e){var t=e.id,n=Object(o.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/people/".concat(t),{headers:{accept:"application/json"}}),c=n.data,s=n.error;return n.isPending?Object(l.jsx)("div",{className:"person",children:"Loading..."}):s?Object(l.jsx)("div",{className:"person error",children:s.message}):c?Object(l.jsxs)("div",{className:"person",children:[Object(l.jsxs)("h1",{className:"name",children:[c.person.firstName," ",c.person.lastName]}),Object(l.jsx)("ul",{className:"sanctions",children:Object.keys(c.sanctions).sort((function(e,t){var n=c.sanctions[e].startDate;return c.sanctions[t].startDate.localeCompare(n)})).map((function(e){return Object(l.jsx)(b,{person:c,id:+e},e)}))})]}):Object(l.jsx)("div",{className:"person error",children:"No data for this person."})}var O=n(7),x=n(21);function p(e){var t,n=e.search,s=e.name,r=Object(c.useState)(),a=Object(i.a)(r,2),d=a[0],u=a[1],j=Object(c.useState)([]),m=Object(i.a)(j,2),h=m[0],b=m[1],f=Object(c.useState)(""),p=Object(i.a)(f,2),v=p[0],N=p[1],g=Object(o.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/sanctions/".concat(n),{headers:{accept:"application/json"}},{defer:!0}),y=g.data,I=g.error,w=g.isPending,S=g.run;if(Object(c.useEffect)((function(){n?S():u(x)}),[S,u,n]),w)return Object(l.jsx)("div",{children:"Loading..."});if(I)return Object(l.jsx)("div",{className:"error",children:I.message});if(!d&&!y)return Object(l.jsx)("div",{className:"error",children:"No data"});if(!d&&y){var C=(s||"").toLowerCase().split(" ");u(Object.values(y.people).filter((function(e){return C.length>1?e.firstName.toLowerCase().startsWith(C[0])&&e.lastName.toLowerCase().startsWith(C[1]):e.firstName.toLowerCase().startsWith(C[0])||e.lastName.toLowerCase().startsWith(C[0])})).map((function(e){return{id:e.personId,name:"".concat(e.firstName," ").concat(e.lastName)}})))}return Object(l.jsxs)("div",{className:"names",children:[Object(l.jsx)("h2",{children:"Pick your Athletes:"}),Object(l.jsx)("ul",{children:d?d.map((function(e){return Object(l.jsx)("li",{className:"names-checkbox",children:Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:(t=e.id,function(e){e.target.checked?b(Object(O.a)(new Set([].concat(Object(O.a)(h),[t])))):b(h.filter((function(e){return e!==t})))})}),e.name]})},e.name);var t})):null}),Object(l.jsx)("button",{onClick:(t=h,function(){window.location.href="?id=".concat(t.join(","))}),children:"Go"}),Object(l.jsxs)("div",{style:{display:"hidden"},children:[Object(l.jsx)("h2",{children:"or search"}),Object(l.jsx)("input",{value:v,onChange:function(e){return N(e.target.value)}}),Object(l.jsx)("button",{onClick:function(){return window.location.href="?s=".concat(v)},children:"Go"})]})]})}function v(e){var t=e.name,n=Object(o.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v1/meets/live",{headers:{accept:"application/json"}}),c=n.data,s=n.error;return n.isPending?Object(l.jsx)("div",{children:"Loading..."}):s?Object(l.jsx)("div",{className:"error",children:s.message}):c?Object(l.jsxs)("div",{className:"names",children:[Object(l.jsx)("h2",{children:"Pick your Event:"}),Object(l.jsx)("ul",{children:c.map((function(e){return Object(l.jsx)("li",{className:"names",children:Object(l.jsx)("button",{onClick:function(){return window.location.href="?s=".concat(e.sanctionId.toString()," ").concat(t)},children:e.name})},e.sanctionId)}))})]}):Object(l.jsx)("div",{className:"error",children:"No data"})}function N(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),a=Object(i.a)(r,2),o=a[0],d=a[1],u=Object(c.useRef)(null),j=Object(c.useRef)(null),m=Object(c.useRef)(null);function h(){if(u.current){var e=u.current.clientWidth/2;d(u.current.scrollWidth-u.current.scrollLeft-e>=u.current.clientWidth),s(u.current.scrollLeft-e>0)}}function b(){u.current&&j.current&&m.current&&(j.current.style.top="".concat(10-u.current.scrollTop,"px"),m.current.style.top="".concat(10-u.current.scrollTop,"px"))}Object(c.useEffect)((function(){u.current&&(h(),u.current.addEventListener("scroll",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=!1,c=!1;return function(){for(var s=this,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];n?c=!0:function r(){n=!0,c=!1,setTimeout((function(){n=!1,c&&r()}),t),e.call.apply(e,[s].concat(a))}()}}(h),{passive:!0}),u.current.addEventListener("scroll",b,{passive:!0}))}),[u]);var O=new URLSearchParams(window.location.search),x=O.get("id");if(x){var N=x.split(",");if(N.length>0)return Object(l.jsxs)("div",{className:"persons",ref:u,children:[Object(l.jsx)("button",{onClick:function(){u.current&&u.current.scroll({left:u.current.scrollLeft-window.innerWidth,behavior:"smooth"})},ref:j,className:"left arrow ".concat(n?"":"hide"),children:"<"}),Object(l.jsx)("button",{onClick:function(){u.current&&u.current.scroll({left:u.current.scrollLeft+window.innerWidth,behavior:"smooth"})},ref:m,className:"right arrow ".concat(o?"":"hide"),children:">"}),N.map((function(e){return Object(l.jsx)(f,{id:e},e)}))]})}var g=O.get("s"),y=null,I=null;if(g){var w=g.split(" ");y=w.shift(),I=w.join(" "),isNaN(parseInt(y,10))&&(I="".concat(y," ").concat(I),y=null)}return y||!I?Object(l.jsx)(p,{search:y,name:I}):Object(l.jsx)(v,{name:I})}a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6e732153.chunk.js.map