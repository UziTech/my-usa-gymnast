(this["webpackJsonpmy-usa-gymnast"]=this["webpackJsonpmy-usa-gymnast"]||[]).push([[0],{30:function(e,n,t){"use strict";t.r(n);var s=t(1),c=t(0),a=t.n(c),r=t(18),i=t.n(r),l=t(8),o={Women:{aa:{shortName:"AA",name:"AA",longName:"All Around"},1:{shortName:"VT",name:"Vault",longName:"Vault"},2:{shortName:"UB",name:"Bars",longName:"Bars"},3:{shortName:"BB",name:"Beam",longName:"Beam"},4:{shortName:"FX",name:"Floor",longName:"Floor"}},Men:{aa:{shortName:"AA",name:"AA",longName:"All Around"},1:{shortName:"FX",name:"Floor",longName:"Floor"},2:{shortName:"PH",name:"Pommel",longName:"Pommel"},3:{shortName:"SR",name:"Rings",longName:"Rings"},4:{shortName:"VT",name:"Vault",longName:"Vault"},5:{shortName:"PB",name:"P Bars",longName:"P Bars"},6:{shortName:"HB",name:"H Bar",longName:"H Bar"}}};function d(e){var n=e.match(/(\d\d):(\d\d):(\d\d)/);return n?"".concat(n[1].replace(/^0/,""),":").concat(n[2]):e}function m(e){var n=e.person,t=e.id,a=Object(l.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/sanctions/".concat(t),{headers:{accept:"application/json"}},{defer:!0}),r=a.data,i=a.error,m=a.isPending,j=a.run;Object(c.useEffect)((function(){j()}),[j]);var u=n.sanctions[t];if(m)return Object(s.jsxs)("li",{children:["Loading ",u.name,"..."]});if(i)return Object(s.jsxs)("li",{className:"error",children:[i.message,Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:j,children:"Refresh"})]});if(!r)return Object(s.jsxs)("li",{className:"error",children:["No data",Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:j,children:"Refresh"})]});var h=n.sanctionPeople.find((function(e){return e.sanctionId===t}));if(!h)return Object(s.jsx)("li",{className:"error",children:"Cannot find sanctionPeople"});var b=Object.values(r.sanctionPeople).filter((function(e){return e.sessionId===h.sessionId&&e.level===h.level&&e.division===h.division})).length,f=r.sessions.find((function(e){return e.sessionId===h.sessionId}));if(!f)return Object(s.jsxs)("li",{className:"error",children:["Cannot find session",Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:j,children:"Refresh"})]});var O,x=r.sessionResultSets.find((function(e){return e.sessionId===h.sessionId&&e.level===h.level&&e.division===h.division})),N=f["squad".concat(h.squad)]||"",v=Array.from(N).reduce((function(e,n,t){return e[n]=t+1,e}),{}),p=n.scores.filter((function(e){return e.sanctionId===t})).sort((function(e,n){return e.eventId in v&&n.eventId in v?v[e.eventId]-v[n.eventId]:e.eventId in v?-1:n.eventId in v?1:0})),g=p.some((function(e){return e.difficulty})),y=p.some((function(e){return e.execution})),I=p.some((function(e){return e.deductions})),A=p.some((function(e){return e.finalScore})),B=p.some((function(e){return e.place}));return Object(s.jsxs)("li",{className:"sanction",children:[Object(s.jsx)("h3",{className:"sanctionName",children:Object(s.jsx)("a",{href:"https://myusagym.com/meets/live/".concat(t,"/"),children:u.name})}),Object(s.jsxs)("h5",{className:"site",children:[Object(s.jsx)("a",{className:"siteName",href:u.siteLink,children:u.siteName}),Object(s.jsx)("br",{}),Object(s.jsxs)("a",{className:"siteAddress",href:"https://maps.google.com?q=".concat(encodeURIComponent("".concat(u.address1,", ").concat(u.city,", ").concat(u.state," ").concat(u.zip))),children:[u.address1,", ",u.city,", ",u.state," ",u.zip]})]}),Object(s.jsx)("h3",{className:"level",children:Object(s.jsxs)("a",{href:x?"https://myusagym.com/meets/live/".concat(t,"/results/").concat(x.resultSetId,"/"):"https://myusagym.com/meets/live/".concat(t,"/"),children:["Level ",h.level," ",h.division," ",h.program," Session ",h.sessionId," Squad ",h.squad," Flight ",h.flight]})}),Object(s.jsxs)("h5",{className:"date",children:[(O=f.date,O.match(/(\d\d\d\d)-(\d\d)-(\d\d)/)?new Date(O).toDateString():O),Object(s.jsx)("br",{}),u.time1,": ",d(f.time1),"; ",u.time2,": ",d(f.time2),"; ",u.time3,": ",d(f.time3),"; ",u.time4,": ",d(f.time4)]}),Object(s.jsx)("a",{className:"startList",href:"https://myusagym.com/meets/live/".concat(t,"/session/").concat(h.sessionId,"/startList/"),children:"Start List"}),Object(s.jsx)("div",{className:"scores",children:Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:Object(s.jsx)("button",{onClick:j,children:"Refresh"})}),g?Object(s.jsx)("th",{children:"Difficulty"}):null,y?Object(s.jsx)("th",{children:"Execution"}):null,I?Object(s.jsx)("th",{children:"Deduction"}):null,A?Object(s.jsx)("th",{children:"Final"}):null,B?Object(s.jsx)("th",{children:"Place"}):null]})}),Object(s.jsx)("tbody",{children:p.length>0?p.map((function(e){var n,t,c=null===(n=o[e.program])||void 0===n||null===(t=n[e.eventId])||void 0===t?void 0:t.longName;return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("th",{className:"event",children:[e.eventId in v?"".concat(v[e.eventId],". "):"",c||"Unknown Event ".concat(e.eventId)]}),g?Object(s.jsx)("td",{className:"difficulty",children:e.difficulty||""}):null,y?Object(s.jsx)("td",{className:"execution",children:e.execution||""}):null,I?Object(s.jsx)("td",{className:"deductions",children:e.deductions||""}):null,A?Object(s.jsx)("td",{className:"finalScore",children:e.finalScore||""}):null,B?Object(s.jsx)("td",{className:"place",children:e.place?"".concat(e.place," of ").concat(b):""}):null]},e.eventId)})):Array.from(N).map((function(e){var n,t,c=null===(n=o[h.program])||void 0===n||null===(t=n[e])||void 0===t?void 0:t.longName;return Object(s.jsx)("tr",{children:Object(s.jsxs)("th",{className:"event",children:[e in v?"".concat(v[e],". "):"",c||"Unknown Event ".concat(e)]})},e)}))})]})})]})}function j(e){var n=e.id,t=Object(l.a)("https://uzitech.com/cbp/?url=https://api.myusagym.com/v2/people/".concat(n),{headers:{accept:"application/json"}}),c=t.data,a=t.error;return t.isPending?Object(s.jsx)("li",{children:"Loading..."}):a?Object(s.jsx)("li",{className:"error",children:a.message}):c?Object(s.jsxs)("li",{className:"person",children:[Object(s.jsxs)("h1",{className:"name",children:[c.person.firstName," ",c.person.lastName]}),Object(s.jsx)("h2",{className:"club",children:c.club.name}),Object(s.jsx)("ul",{children:Object.keys(c.sanctions).map((function(e){return Object(s.jsx)(m,{person:c,id:+e},e)}))})]}):Object(s.jsx)("li",{className:"error",children:"No data"})}var u="1913246";function h(){return Object(s.jsx)("ul",{children:Object(s.jsx)(j,{id:u},u)})}i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.53ead71f.chunk.js.map